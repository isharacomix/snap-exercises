<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<title>Snap! Build Your Own Blocks. Beta</title>
        <link rel="shortcut icon" href="http://snap.berkeley.edu/fav3.gif" type="image/gif">
		<script type="text/javascript" src="js/morphic.js"></script>
		<script type="text/javascript" src="js/widgets.js"></script>
		<script type="text/javascript" src="js/blocks.js"></script>
		<script type="text/javascript" src="js/threads.js"></script>
		<script type="text/javascript" src="js/objects.js"></script>
		<script type="text/javascript" src="js/gui.js"></script>
		<script type="text/javascript" src="js/paint.js"></script>
		<script type="text/javascript" src="js/lists.js"></script>
		<script type="text/javascript" src="js/byob.js"></script>
		<script type="text/javascript" src="js/xml.js"></script>
		<script type="text/javascript" src="js/store.js"></script>
		<script type="text/javascript" src="js/locale.js"></script>
		<script type="text/javascript" src="js/cloud.js"></script>
		<script type="text/javascript" src="js/sha512.js"></script>
		<script type="text/javascript" src="js/xml2json.js"></script>
		<script type="text/javascript">
				function load_project_uri(uri, callback) {
				var request = new XMLHttpRequest ();
				request.onload = function () {
					if (callback !== undefined) {
					callback(this.responseText);
					}
					else {
					load_project_xml(this.responseText);
					}
				};
				request.open("get", uri, true);
				request.send();
				}



			var world;
            var ide;

            function load_project_xml(xml, appname) {
					ide.serializer.app = appname;
                    window.ide.droppedText(xml);
            }

            function export_project_xml(xml) {
                    return window.ide.exportProjectToStr ();
            }

            window.load_project_xml = load_project_xml;
            window.export_project_xml = export_project_xml;
            window.show_make_a_block = false;
            window.show_make_a_variable = false;

			window.onload = function () {
				world = new WorldMorph(document.getElementById('world'));
				ide = new IDE_Morph();
                ide.openIn(world);
				//load_project_uri('undefined.xml',world.load_project_xml);
				setInterval(loop, 1);
			};
			function loop() {
				world.doOneCycle();
			}
		</script>
	</head>
	<body style="margin: 0;">
		<canvas id="world" tabindex="1" style="position: absolute;" width="1089" height="674">


</canvas></body></html>
